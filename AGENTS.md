
# Project Agents.md Guide for OpenAI Codex

This Agents.md file provides comprehensive guidance for OpenAI Codex and other AI agents working with this codebase.

## Project Structure for OpenAI Codex Navigation

## Project Code Structure

The codebase is organized into clearly defined directories and files to separate concerns and facilitate navigation for agents and contributors:

- **Root Directory**
  - Contains primary configuration and metadata files:
    - `LICENSE`
    - `README.md`
    - `package.json` / `package-lock.json`
    - `tsconfig.json` (TypeScript configuration)
    - `vitest.config.mts` (Vitest test runner config)
    - `worker-configuration.d.ts` (auto-generated typings)
    - `wrangler.jsonc` (Cloudflare Workers configuration)

- **`src/`**
  - Contains all TypeScript source code for the Cloudflare Worker.
  - Main entry point: `src/index.ts`
    - Implements HTTP request routing and handler logic.
    - Defines core interfaces, such as the `Story` type for story records:
      ```typescript
      interface Story {
          id: number;
          title: string;
          content: string;
          date: string;
          image_url: string | null;
          created: string | null;
          updated: string | null;
      }
      ```

- **`public/`**
  - Hosts all static HTML assets served by the worker:
    - `index.html` — main landing page
    - `edit.html` — story editing interface
    - `manage.html` — admin/management view
    - `submit.html` — story submission form

- **`db/`**
  - Contains SQL schema files for D1 database tables:
    - `allowed_accounts_table.sql` — permitted user accounts
    - `stories_table.sql` — schema for storing stories
      - Example snippet:
        ```sql
        CREATE TABLE stories (
          id        INTEGER PRIMARY KEY AUTOINCREMENT,
          title     TEXT NOT NULL,
          content   TEXT NOT NULL,
          date      DATE NOT NULL,
          ...
        );
        ```

- **`test/`**
  - Houses automated tests (using Vitest) and their configuration:
    - `index.spec.ts` — main test suite importing the worker and utilities
    - `env.d.ts` — test environment typings
    - `tsconfig.json` — test-specific TypeScript config

---

**Summary:**  
- **Source code:** `src/`
- **Static frontend:** `public/`
- **Database schema:** `db/`
- **Tests:** `test/`
- **Configuration & metadata:** root files

This modular structure enables clear navigation and division of responsibilities, streamlining development and maintenance for all agents and contributors.

## Coding Conventions for OpenAI Codex

### General Conventions for Agents.md Implementation

- Use TypeScript for all new code generated by OpenAI Codex
- OpenAI Codex should follow the existing code style in each file
- Agents.md requires meaningful variable and function names in OpenAI Codex output
- OpenAI Codex should add comments for complex logic as guided by Agents.md

### React Components Guidelines for OpenAI Codex

- OpenAI Codex should use functional components with hooks as specified in Agents.md
- Keep components generated by OpenAI Codex small and focused
- Agents.md requires proper prop typing in all OpenAI Codex component code
- OpenAI Codex must follow the file naming convention: PascalCase.tsx

### CSS/Styling Standards for OpenAI Codex

- Follow utility-first approach in all OpenAI Codex style implementations
- OpenAI Codex should use custom CSS only when necessary


