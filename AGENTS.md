
# Project Agents.md Guide for OpenAI Codex

This Agents.md file provides comprehensive guidance for OpenAI Codex and other AI agents working with this codebase.

## Project Structure for OpenAI Codex Navigation

The repository’s root contains the main configuration and documentation files:

LICENSE
README.md
package.json
package-lock.json
tsconfig.json
vitest.config.mts
worker-configuration.d.ts
wrangler.jsonc

src/
Holds the Cloudflare Worker code. The single TypeScript file defines request handling and routing logic:

src/
└── index.ts
Beginning of src/index.ts:

// Cloudflare Worker used to store and manage short bedtime stories.

// Data stored for each story record
interface Story {
    id: number;
    title: string;
    content: string;
    date: string;
    image_url: string | null;
    created: string | null;
    updated: string | null;
}

public/
Contains the static HTML front-end served by the worker:

public/
├── edit.html
├── index.html
├── manage.html
└── submit.html

db/
SQL files to create the D1 database tables:

db/
├── allowed_accounts_table.sql
└── stories_table.sql
stories_table.sql defines the stories table:

CREATE TABLE stories (
  id        INTEGER PRIMARY KEY AUTOINCREMENT,
  title     TEXT NOT NULL,
  content   TEXT NOT NULL,
  date      DATE NOT NULL,
  ...
);

test/
Vitest test suite with a TypeScript specification file and supporting config:

test/
├── env.d.ts
├── index.spec.ts
└── tsconfig.json

Beginning of test/index.spec.ts shows the test setup:

import { env, createExecutionContext, waitOnExecutionContext, SELF } from 'cloudflare:test';
import { describe, it, expect } from 'vitest';
import worker, { signSession, verifySession, SESSION_MAXAGE } from '../src/index';

The README describes the purpose of the project and how to run it:

# Bedtime Stories
This project is a small Cloudflare Workers application for managing and serving short stories...

Overall, the project is organized into:

Source code in src/

Static HTML in public/

Database schema in db/

Tests in test/

Additional configuration files (tsconfig.json, vitest.config.mts, wrangler.jsonc) and auto-generated typings (worker-configuration.d.ts). The root package.json defines scripts for development (wrangler dev), deployment (wrangler deploy), and running tests (vitest).

## Coding Conventions for OpenAI Codex

### General Conventions for Agents.md Implementation

- Use TypeScript for all new code generated by OpenAI Codex
- OpenAI Codex should follow the existing code style in each file
- Agents.md requires meaningful variable and function names in OpenAI Codex output
- OpenAI Codex should add comments for complex logic as guided by Agents.md

### React Components Guidelines for OpenAI Codex

- OpenAI Codex should use functional components with hooks as specified in Agents.md
- Keep components generated by OpenAI Codex small and focused
- Agents.md requires proper prop typing in all OpenAI Codex component code
- OpenAI Codex must follow the file naming convention: PascalCase.tsx

### CSS/Styling Standards for OpenAI Codex

- Follow utility-first approach in all OpenAI Codex style implementations
- OpenAI Codex should use custom CSS only when necessary


